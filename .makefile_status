srcs_count=$(ls ./srcs/*.c | wc -l)
objs_count=$(ls ./objs/*.o | wc -l)

bar_fill_char="="

star ()
{
    if [ $objs_count -ne $srcs_count ];
    then
        printf "\033[K[\e[93m*\e[97m]";
    else
        printf "\033[K[\e[92m*\e[97m]";
    fi;
}

if [ $objs_count -eq 1 ]; then printf "\nCompiling $2 ...\n\n\r"; fi;
star
printf "\t$1\t\t["
for i in $(seq 1 $objs_count); do bar_fill_stats="$bar_fill_stats$bar_fill_char"; done;
command -v lolcat > /dev/null
if [ $? -eq 0 ];
then
    printf "$bar_fill_stats>" | lolcat -S 42;
else
    printf "$bar_fill_stats>"
fi;

if [ $objs_count -ne $srcs_count ];
then
    for j in $(seq 1 $(($srcs_count-$objs_count))); do printf ' '; done;
fi;
printf "] - $objs_count/$srcs_count\r"

if [ $objs_count -eq $srcs_count ];
then
    printf "\n\n";
fi;